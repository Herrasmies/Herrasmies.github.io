"0",""
"0","lavaandata <- crosstabs %>% dplyr::select(ika, sukupuoli, sektori, smoking_cat_dayweek, snus_cat_dayweek, ko_alco, rg_n, w_analysis, rg_stratum) %>%"
"0","  dplyr::mutate(smoking_cat_dayweek = as.numeric(smoking_cat_dayweek)-1,"
"0","                snus_cat_dayweek = as.numeric(snus_cat_dayweek)-1,"
"0","                ko_alco = as.numeric(ko_alco)-1,"
"0","                sektori = as.numeric(factor(sektori))-1,"
"0","                sukupuoli = as.numeric(factor(sukupuoli))-1)"
"0",""
"0","svy_lavaan <- svydesign(id = ~1,"
"0","                      fpc = ~rg_n,"
"0","                      weights = ~w_analysis,"
"0","                      strata = ~rg_stratum,"
"0","                      data = lavaandata)"
"0",""
"0",""
"0","#Alla kyseessä suppressioefektin mallinnus, EI mediaatioefektin mallinnus (koska IV:n yhteys vahvistuu kontrollimuuttujan huomioidessa)"
"0",""
"0","# Note that ""Any controls on the ""b"" or ""c"" path (really its c' in this model) are in the same regression equation. Both b and c' are estimated in the same equation (they both have Y as the outcome variable) so you only need to list the covariates once."" <-- Tästä syystä kontrollit lisätty vain direct effect alle"
"0",""
"0","model <- ' # direct effect"
"0","             smoking_cat_dayweek ~ c*snus_cat_dayweek + cv1*sukupuoli + cv2*sektori + cv3*ika"
"0","           # mediator"
"0","             ko_alco ~ a*snus_cat_dayweek + cv4*sukupuoli + cv5*sektori + cv6*ika"
"0","             smoking_cat_dayweek ~ b*ko_alco"
"0","           # indirect effect (a*b)"
"0","             ab := a*b"
"0","           # total effect"
"0","             total := c + (a*b)"
"0","         '"
"0",""
"0","lavaan.fit <- sem(model, data = lavaandata)"
"0",""
"0","#summary(lavaan.fit, fit.measures=TRUE, standardized=TRUE)"
"0",""
"0","survey.fit <- lavaan.survey(lavaan.fit, svy_lavaan)"
"0",""
"0","summary(survey.fit, standardized=T)"
"1","lavaan 0.6-12 "
"1","ended normally after 26 iterations
"
"1","
"
"1","  "
"1","Estimator                               "
"1"," "
"1","         ML"
"1","
"
"1","  "
"1","Optimization method                     "
"1"," "
"1","     NLMINB"
"1","
"
"1","  "
"1","Number of model parameters              "
"1"," "
"1","         13"
"1","
"
"1","
"
"1","  "
"1","Number of observations                     "
"1"," "
"1","    5783"
"1","
"
"1","
"
"1","Model Test User Model:
"
"1","  "
"1","                                           "
"1"," "
"1","Standard"
"1"," "
"1","     Robust"
"1","
"
"1","  "
"1","Test Statistic                             "
"1"," "
"1","   0.000"
"1"," "
"1","      0.000"
"1","
"
"1","  "
"1","Degrees of freedom                         "
"1"," "
"1","       0"
"1"," "
"1","          0"
"1","
"
"1","
Parameter Estimates:

"
"1","  "
"1","Standard errors                       "
"1"," "
"1","   Robust.sem"
"1","
"
"1","  "
"1","Information                           "
"1"," "
"1","     Expected"
"1","
"
"1","  "
"1","Information saturated (h1) model      "
"1"," "
"1","   Structured"
"1","
"
"1","
"
"1",""
"1","Regressions"
"1",""
"1",":
"
"1",""
"1","                       "
"1"," Estimate"
"1","  Std.Err"
"1","  z-value"
"1","  P(>|z|)"
"1","   Std.lv"
"1","  Std.all"
"1","
"
"1","  smoking_cat_dayweek ~"
"1","         "
"1","         "
"1","         "
"1","         "
"1","         "
"1","         "
"1","
"
"1","    sns_ct_d   (c)     "
"1","   -0.035"
"1","    0.017"
"1","   -2.059"
"1","    0.040"
"1","   -0.035"
"1","   -0.035"
"1","
"
"1","    sukupuol (cv1)     "
"1","    0.012"
"1","    0.008"
"1","    1.489"
"1","    0.137"
"1","    0.012"
"1","    0.022"
"1","
"
"1","    sektori  (cv2)     "
"1","   -0.072"
"1","    0.008"
"1","   -9.356"
"1","    0.000"
"1","   -0.072"
"1","   -0.132"
"1","
"
"1","    ika      (cv3)     "
"1","    0.006"
"1","    0.001"
"1","    5.382"
"1","    0.000"
"1","    0.006"
"1","    0.084"
"1","
"
"1","  ko_alco ~            "
"1","         "
"1","         "
"1","         "
"1","         "
"1","         "
"1","         "
"1","
"
"1","    sns_ct_d   (a)     "
"1","    0.298"
"1","    0.032"
"1","    9.341"
"1","    0.000"
"1","    0.298"
"1","    0.178"
"1","
"
"1","    sukupuol (cv4)     "
"1","   -0.067"
"1","    0.013"
"1","   -5.254"
"1","    0.000"
"1","   -0.067"
"1","   -0.075"
"1","
"
"1","    sektori  (cv5)     "
"1","   -0.039"
"1","    0.012"
"1","   -3.118"
"1","    0.002"
"1","   -0.039"
"1","   -0.044"
"1","
"
"1","    ika      (cv6)     "
"1","   -0.012"
"1","    0.002"
"1","   -7.219"
"1","    0.000"
"1","   -0.012"
"1","   -0.097"
"1","
"
"1","  smoking_cat_dayweek ~"
"1","         "
"1","         "
"1","         "
"1","         "
"1","         "
"1","         "
"1","
"
"1","    ko_alco    (b)     "
"1","    0.115"
"1","    0.011"
"1","   10.379"
"1","    0.000"
"1","    0.115"
"1","    0.188"
"1","
"
"1","
"
"1",""
"1","Intercepts"
"1",""
"1",":
"
"1",""
"1","                  "
"1"," Estimate"
"1","  Std.Err"
"1","  z-value"
"1","  P(>|z|)"
"1","   Std.lv"
"1","  Std.all"
"1","
"
"1","   .smokng_ct_dywk"
"1","   -0.075"
"1","    0.031"
"1","   -2.389"
"1","    0.017"
"1","   -0.075"
"1","   -0.276"
"1","
"
"1","   .ko_alco       "
"1","    0.597"
"1","    0.043"
"1","   13.744"
"1","    0.000"
"1","    0.597"
"1","    1.350"
"1","
"
"1","
"
"1",""
"1","Variances"
"1",""
"1",":
"
"1",""
"1","                  "
"1"," Estimate"
"1","  Std.Err"
"1","  z-value"
"1","  P(>|z|)"
"1","   Std.lv"
"1","  Std.all"
"1","
"
"1","   .smokng_ct_dywk"
"1","    0.069"
"1","    0.003"
"1","   23.704"
"1","    0.000"
"1","    0.069"
"1","    0.942"
"1","
"
"1","   .ko_alco       "
"1","    0.185"
"1","    0.003"
"1","   63.354"
"1","    0.000"
"1","    0.185"
"1","    0.945"
"1","
"
"1","
"
"1",""
"1","Defined Parameters"
"1",""
"1",":
"
"1",""
"1","                  "
"1"," Estimate"
"1","  Std.Err"
"1","  z-value"
"1","  P(>|z|)"
"1","   Std.lv"
"1","  Std.all"
"1","
"
"1","    ab            "
"1","    0.034"
"1","    0.005"
"1","    6.980"
"1","    0.000"
"1","    0.034"
"1","    0.033"
"1","
"
"1","    total         "
"1","   -0.001"
"1","    0.017"
"1","   -0.073"
"1","    0.942"
"1","   -0.001"
"1","   -0.001"
"1","
"
"1","
"
